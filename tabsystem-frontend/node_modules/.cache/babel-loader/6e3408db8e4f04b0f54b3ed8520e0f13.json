{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport React, { useRef, useEffect, createContext, useContext, forwardRef, useCallback } from \"react\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport FocusLock from \"react-focus-lock/dist/cjs\";\nimport { wrapEvent, useForkRef, getFocusables } from \"../utils\";\nimport Box from \"../Box\";\nimport Portal from \"../Portal\";\nimport CloseButton from \"../CloseButton\";\nimport { hideOthers } from \"aria-hidden\";\nimport { useId } from \"@reach/auto-id\";\nimport { useColorMode } from \"../ColorModeProvider\";\nimport exenv from \"exenv\"; ////////////////////////////////////////////////////////////////////////\n\nvar canUseDOM = exenv.canUseDOM;\nvar ModalContext = createContext({});\n\nvar useModalContext = function useModalContext() {\n  return useContext(ModalContext);\n}; ////////////////////////////////////////////////////////////////////////\n\n\nfunction useAriaHider(_ref) {\n  var isOpen = _ref.isOpen,\n      id = _ref.id,\n      enableInert = _ref.enableInert,\n      _ref$container = _ref.container,\n      container = _ref$container === void 0 ? canUseDOM ? document.body : null : _ref$container;\n  var mountRef = useRef(canUseDOM ? document.getElementById(id) || document.createElement(\"div\") : null);\n  useEffect(function () {\n    var undoAriaHidden = null;\n    var mountNode = mountRef.current;\n\n    if (isOpen && canUseDOM) {\n      mountRef.current.id = id;\n      container.appendChild(mountRef.current);\n\n      if (enableInert) {\n        undoAriaHidden = hideOthers(mountNode);\n      }\n    }\n\n    return function () {\n      if (enableInert && undoAriaHidden != null) {\n        undoAriaHidden();\n      }\n\n      if (mountNode.parentElement) {\n        mountNode.parentElement.removeChild(mountNode);\n      }\n    };\n  }, [isOpen, id, enableInert, container]);\n  return mountRef;\n} ////////////////////////////////////////////////////////////////////////\n\n\nvar Modal = function Modal(_ref2) {\n  var isOpen = _ref2.isOpen,\n      initialFocusRef = _ref2.initialFocusRef,\n      finalFocusRef = _ref2.finalFocusRef,\n      onClose = _ref2.onClose,\n      _ref2$blockScrollOnMo = _ref2.blockScrollOnMount,\n      blockScrollOnMount = _ref2$blockScrollOnMo === void 0 ? true : _ref2$blockScrollOnMo,\n      _ref2$closeOnEsc = _ref2.closeOnEsc,\n      closeOnEsc = _ref2$closeOnEsc === void 0 ? true : _ref2$closeOnEsc,\n      _ref2$closeOnOverlayC = _ref2.closeOnOverlayClick,\n      closeOnOverlayClick = _ref2$closeOnOverlayC === void 0 ? true : _ref2$closeOnOverlayC,\n      _ref2$useInert = _ref2.useInert,\n      useInert = _ref2$useInert === void 0 ? true : _ref2$useInert,\n      _ref2$scrollBehavior = _ref2.scrollBehavior,\n      scrollBehavior = _ref2$scrollBehavior === void 0 ? \"outside\" : _ref2$scrollBehavior,\n      isCentered = _ref2.isCentered,\n      _ref2$addAriaLabels = _ref2.addAriaLabels,\n      addAriaLabels = _ref2$addAriaLabels === void 0 ? true : _ref2$addAriaLabels,\n      preserveScrollBarGap = _ref2.preserveScrollBarGap,\n      _ref2$formatIds = _ref2.formatIds,\n      formatIds = _ref2$formatIds === void 0 ? function (id) {\n    return {\n      content: \"modal-\" + id,\n      header: \"modal-\" + id + \"-header\",\n      body: \"modal-\" + id + \"-body\"\n    };\n  } : _ref2$formatIds,\n      container = _ref2.container,\n      _ref2$returnFocusOnCl = _ref2.returnFocusOnClose,\n      returnFocusOnClose = _ref2$returnFocusOnCl === void 0 ? true : _ref2$returnFocusOnCl,\n      children = _ref2.children,\n      id = _ref2.id,\n      _ref2$size = _ref2.size,\n      size = _ref2$size === void 0 ? \"md\" : _ref2$size;\n  var contentRef = useRef(null);\n  var uuid = useId();\n\n  var _id = id || uuid;\n\n  var contentId = formatIds(_id)[\"content\"];\n  var headerId = formatIds(_id)[\"header\"];\n  var bodyId = formatIds(_id)[\"body\"];\n  var portalId = \"chakra-portal-\" + _id;\n  var addAriaLabelledby = false;\n  var addAriaDescribedby = false;\n\n  if (typeof addAriaLabels === \"object\") {\n    addAriaLabelledby = addAriaLabels[\"header\"];\n    addAriaDescribedby = addAriaLabels[\"body\"];\n  }\n\n  if (typeof addAriaLabels === \"boolean\") {\n    addAriaLabelledby = addAriaLabels;\n    addAriaDescribedby = addAriaLabels;\n  }\n\n  useEffect(function () {\n    var dialogNode = contentRef.current;\n\n    if (isOpen && blockScrollOnMount) {\n      disableBodyScroll(dialogNode, {\n        reserveScrollBarGap: preserveScrollBarGap\n      });\n    }\n\n    return function () {\n      return enableBodyScroll(dialogNode);\n    };\n  }, [isOpen, blockScrollOnMount, preserveScrollBarGap]);\n  useEffect(function () {\n    var func = function func(event) {\n      if (event.key === \"Escape\" && closeOnEsc) {\n        onClose(event, \"pressedEscape\");\n      }\n    };\n\n    if (isOpen && !closeOnOverlayClick) {\n      canUseDOM && document.addEventListener(\"keydown\", func);\n    }\n\n    return function () {\n      canUseDOM && document.removeEventListener(\"keydown\", func);\n    };\n  }, [isOpen, onClose, closeOnOverlayClick, closeOnEsc]);\n  var mountRef = useAriaHider({\n    isOpen: isOpen,\n    id: portalId,\n    enableInert: useInert,\n    container: container\n  });\n  var context = {\n    isOpen: isOpen,\n    initialFocusRef: initialFocusRef,\n    onClose: onClose,\n    blockScrollOnMount: blockScrollOnMount,\n    closeOnEsc: closeOnEsc,\n    closeOnOverlayClick: closeOnOverlayClick,\n    returnFocusOnClose: returnFocusOnClose,\n    contentRef: contentRef,\n    scrollBehavior: scrollBehavior,\n    isCentered: isCentered,\n    headerId: headerId,\n    bodyId: bodyId,\n    contentId: contentId,\n    size: size,\n    addAriaLabelledby: addAriaLabelledby,\n    addAriaDescribedby: addAriaDescribedby\n  };\n  var activateFocusLock = useCallback(function () {\n    if (initialFocusRef && initialFocusRef.current) {\n      initialFocusRef.current.focus();\n    } else {\n      if (contentRef.current) {\n        var focusables = getFocusables(contentRef.current);\n\n        if (focusables.length === 0) {\n          contentRef.current.focus();\n        }\n      }\n    }\n  }, [initialFocusRef]);\n  var deactivateFocusLock = useCallback(function () {\n    if (finalFocusRef && finalFocusRef.current) {\n      finalFocusRef.current.focus();\n    }\n  }, [finalFocusRef]);\n  if (!isOpen) return null;\n  return React.createElement(ModalContext.Provider, {\n    value: context\n  }, React.createElement(Portal, {\n    container: mountRef.current\n  }, React.createElement(FocusLock, {\n    returnFocus: returnFocusOnClose && !finalFocusRef,\n    onActivation: activateFocusLock,\n    onDeactivation: deactivateFocusLock\n  }, children)));\n}; ////////////////////////////////////////////////////////////////////////\n\n\nvar ModalOverlay = React.forwardRef(function (props, ref) {\n  return React.createElement(Box, _extends({\n    pos: \"fixed\",\n    bg: \"rgba(0,0,0,0.4)\",\n    left: \"0\",\n    top: \"0\",\n    w: \"100vw\",\n    h: \"100vh\",\n    ref: ref,\n    zIndex: \"overlay\",\n    onClick: wrapEvent(props.onClick, function (event) {\n      event.stopPropagation();\n    })\n  }, props));\n});\nModalOverlay.displayName = \"ModalOverlay\"; ////////////////////////////////////////////////////////////////////////\n\nvar ModalContent = React.forwardRef(function (_ref3, ref) {\n  var onClick = _ref3.onClick,\n      children = _ref3.children,\n      _ref3$zIndex = _ref3.zIndex,\n      zIndex = _ref3$zIndex === void 0 ? \"modal\" : _ref3$zIndex,\n      noStyles = _ref3.noStyles,\n      props = _objectWithoutPropertiesLoose(_ref3, [\"onClick\", \"children\", \"zIndex\", \"noStyles\"]);\n\n  var _useModalContext = useModalContext(),\n      contentRef = _useModalContext.contentRef,\n      onClose = _useModalContext.onClose,\n      isCentered = _useModalContext.isCentered,\n      bodyId = _useModalContext.bodyId,\n      headerId = _useModalContext.headerId,\n      contentId = _useModalContext.contentId,\n      size = _useModalContext.size,\n      closeOnEsc = _useModalContext.closeOnEsc,\n      addAriaLabelledby = _useModalContext.addAriaLabelledby,\n      addAriaDescribedby = _useModalContext.addAriaDescribedby,\n      scrollBehavior = _useModalContext.scrollBehavior,\n      closeOnOverlayClick = _useModalContext.closeOnOverlayClick;\n\n  var _contentRef = useForkRef(ref, contentRef);\n\n  var _useColorMode = useColorMode(),\n      colorMode = _useColorMode.colorMode;\n\n  var colorModeStyles = {\n    light: {\n      bg: \"white\",\n      shadow: \"0 7px 14px 0 rgba(0,0,0, 0.1), 0 3px 6px 0 rgba(0, 0, 0, .07)\"\n    },\n    dark: {\n      bg: \"gray.700\",\n      shadow: \"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px\"\n    }\n  };\n  var boxStyleProps = colorModeStyles[colorMode];\n  var wrapperStyle = {};\n  var contentStyle = {};\n\n  if (isCentered) {\n    wrapperStyle = {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    };\n  } else {\n    contentStyle = {\n      top: \"3.75rem\",\n      mx: \"auto\"\n    };\n  }\n\n  if (scrollBehavior === \"inside\") {\n    wrapperStyle = _objectSpread({}, wrapperStyle, {\n      maxHeight: \"calc(100vh - 7.5rem)\",\n      overflow: \"hidden\",\n      top: \"3.75rem\"\n    });\n    contentStyle = _objectSpread({}, contentStyle, {\n      height: \"100%\",\n      top: 0\n    });\n  }\n\n  if (scrollBehavior === \"outside\") {\n    wrapperStyle = _objectSpread({}, wrapperStyle, {\n      overflowY: \"auto\",\n      overflowX: \"hidden\"\n    });\n    contentStyle = _objectSpread({}, contentStyle, {\n      my: \"3.75rem\",\n      top: 0\n    });\n  }\n\n  if (noStyles) {\n    wrapperStyle = {};\n    contentStyle = {};\n  }\n\n  return React.createElement(Box, _extends({\n    pos: \"fixed\",\n    left: \"0\",\n    top: \"0\",\n    w: \"100%\",\n    h: \"100%\",\n    zIndex: zIndex,\n    onClick: function onClick(event) {\n      event.stopPropagation();\n\n      if (closeOnOverlayClick) {\n        onClose(event, \"clickedOverlay\");\n      }\n    },\n    onKeyDown: function onKeyDown(event) {\n      if (event.key === \"Escape\") {\n        event.stopPropagation();\n\n        if (closeOnEsc) {\n          onClose(event, \"pressedEscape\");\n        }\n      }\n    }\n  }, wrapperStyle), React.createElement(Box, _extends({\n    ref: _contentRef,\n    as: \"section\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    tabIndex: -1,\n    outline: 0,\n    maxWidth: size,\n    w: \"100%\",\n    id: contentId\n  }, addAriaDescribedby && {\n    \"aria-describedby\": bodyId\n  }, addAriaLabelledby && {\n    \"aria-labelledby\": headerId\n  }, {\n    pos: \"relative\",\n    d: \"flex\",\n    flexDir: \"column\",\n    zIndex: zIndex,\n    onClick: wrapEvent(onClick, function (event) {\n      return event.stopPropagation();\n    })\n  }, boxStyleProps, contentStyle, props), children));\n});\nModalContent.displayName = \"ModalContent\"; ////////////////////////////////////////////////////////////////////////\n\nvar ModalHeader = forwardRef(function (props, ref) {\n  var _useModalContext2 = useModalContext(),\n      headerId = _useModalContext2.headerId;\n\n  return React.createElement(Box, _extends({\n    ref: ref,\n    px: 6,\n    py: 4,\n    id: headerId,\n    as: \"header\",\n    position: \"relative\",\n    fontSize: \"xl\",\n    fontWeight: \"semibold\"\n  }, props));\n});\nModalHeader.displayName = \"ModalHeader\"; ////////////////////////////////////////////////////////////////////////\n\nvar ModalFooter = forwardRef(function (props, ref) {\n  return React.createElement(Box, _extends({\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    ref: ref,\n    px: 6,\n    py: 4,\n    as: \"footer\"\n  }, props));\n});\nModalFooter.displayName = \"ModalFooter\"; ////////////////////////////////////////////////////////////////////////\n\nvar ModalBody = forwardRef(function (props, ref) {\n  var _useModalContext3 = useModalContext(),\n      bodyId = _useModalContext3.bodyId,\n      scrollBehavior = _useModalContext3.scrollBehavior;\n\n  var style = {};\n\n  if (scrollBehavior === \"inside\") {\n    style = {\n      overflowY: \"auto\"\n    };\n  }\n\n  return React.createElement(Box, _extends({\n    ref: ref,\n    id: bodyId,\n    px: 6,\n    py: 2,\n    flex: \"1\"\n  }, style, props));\n});\nModalBody.displayName = \"ModalBody\"; ////////////////////////////////////////////////////////////////////////\n\nvar ModalCloseButton = forwardRef(function (props, ref) {\n  var _useModalContext4 = useModalContext(),\n      onClose = _useModalContext4.onClose;\n\n  return React.createElement(CloseButton, _extends({\n    ref: ref,\n    onClick: onClose,\n    position: \"absolute\",\n    top: \"8px\",\n    right: \"12px\"\n  }, props));\n});\nModalCloseButton.displayName = \"ModalCloseButton\"; ////////////////////////////////////////////////////////////////////////\n\nexport { Modal, ModalOverlay, ModalContent, ModalHeader, ModalFooter, ModalBody, ModalCloseButton };","map":{"version":3,"sources":["/Users/landonschlangen/Documents/WebDevelopmentFolder/ReactApps/tabsystem/node_modules/@chakra-ui/core/dist/es/Modal/index.js"],"names":["_defineProperty","_objectWithoutPropertiesLoose","_extends","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","React","useRef","useEffect","createContext","useContext","forwardRef","useCallback","disableBodyScroll","enableBodyScroll","FocusLock","wrapEvent","useForkRef","getFocusables","Box","Portal","CloseButton","hideOthers","useId","useColorMode","exenv","canUseDOM","ModalContext","useModalContext","useAriaHider","_ref","isOpen","id","enableInert","_ref$container","container","document","body","mountRef","getElementById","createElement","undoAriaHidden","mountNode","current","appendChild","parentElement","removeChild","Modal","_ref2","initialFocusRef","finalFocusRef","onClose","_ref2$blockScrollOnMo","blockScrollOnMount","_ref2$closeOnEsc","closeOnEsc","_ref2$closeOnOverlayC","closeOnOverlayClick","_ref2$useInert","useInert","_ref2$scrollBehavior","scrollBehavior","isCentered","_ref2$addAriaLabels","addAriaLabels","preserveScrollBarGap","_ref2$formatIds","formatIds","content","header","_ref2$returnFocusOnCl","returnFocusOnClose","children","_ref2$size","size","contentRef","uuid","_id","contentId","headerId","bodyId","portalId","addAriaLabelledby","addAriaDescribedby","dialogNode","reserveScrollBarGap","func","event","addEventListener","removeEventListener","context","activateFocusLock","focus","focusables","deactivateFocusLock","Provider","value","returnFocus","onActivation","onDeactivation","ModalOverlay","props","ref","pos","bg","left","top","w","h","zIndex","onClick","stopPropagation","displayName","ModalContent","_ref3","_ref3$zIndex","noStyles","_useModalContext","_contentRef","_useColorMode","colorMode","colorModeStyles","light","shadow","dark","boxStyleProps","wrapperStyle","contentStyle","display","alignItems","justifyContent","mx","maxHeight","overflow","height","overflowY","overflowX","my","onKeyDown","as","role","tabIndex","outline","maxWidth","d","flexDir","ModalHeader","_useModalContext2","px","py","position","fontSize","fontWeight","ModalFooter","ModalBody","_useModalContext3","style","flex","ModalCloseButton","_useModalContext4","right"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/extends\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useRef, useEffect, createContext, useContext, forwardRef, useCallback } from \"react\";\nimport { disableBodyScroll, enableBodyScroll } from \"body-scroll-lock\";\nimport FocusLock from \"react-focus-lock/dist/cjs\";\nimport { wrapEvent, useForkRef, getFocusables } from \"../utils\";\nimport Box from \"../Box\";\nimport Portal from \"../Portal\";\nimport CloseButton from \"../CloseButton\";\nimport { hideOthers } from \"aria-hidden\";\nimport { useId } from \"@reach/auto-id\";\nimport { useColorMode } from \"../ColorModeProvider\";\nimport exenv from \"exenv\"; ////////////////////////////////////////////////////////////////////////\n\nvar canUseDOM = exenv.canUseDOM;\nvar ModalContext = createContext({});\n\nvar useModalContext = function useModalContext() {\n  return useContext(ModalContext);\n}; ////////////////////////////////////////////////////////////////////////\n\n\nfunction useAriaHider(_ref) {\n  var isOpen = _ref.isOpen,\n      id = _ref.id,\n      enableInert = _ref.enableInert,\n      _ref$container = _ref.container,\n      container = _ref$container === void 0 ? canUseDOM ? document.body : null : _ref$container;\n  var mountRef = useRef(canUseDOM ? document.getElementById(id) || document.createElement(\"div\") : null);\n  useEffect(function () {\n    var undoAriaHidden = null;\n    var mountNode = mountRef.current;\n\n    if (isOpen && canUseDOM) {\n      mountRef.current.id = id;\n      container.appendChild(mountRef.current);\n\n      if (enableInert) {\n        undoAriaHidden = hideOthers(mountNode);\n      }\n    }\n\n    return function () {\n      if (enableInert && undoAriaHidden != null) {\n        undoAriaHidden();\n      }\n\n      if (mountNode.parentElement) {\n        mountNode.parentElement.removeChild(mountNode);\n      }\n    };\n  }, [isOpen, id, enableInert, container]);\n  return mountRef;\n} ////////////////////////////////////////////////////////////////////////\n\n\nvar Modal = function Modal(_ref2) {\n  var isOpen = _ref2.isOpen,\n      initialFocusRef = _ref2.initialFocusRef,\n      finalFocusRef = _ref2.finalFocusRef,\n      onClose = _ref2.onClose,\n      _ref2$blockScrollOnMo = _ref2.blockScrollOnMount,\n      blockScrollOnMount = _ref2$blockScrollOnMo === void 0 ? true : _ref2$blockScrollOnMo,\n      _ref2$closeOnEsc = _ref2.closeOnEsc,\n      closeOnEsc = _ref2$closeOnEsc === void 0 ? true : _ref2$closeOnEsc,\n      _ref2$closeOnOverlayC = _ref2.closeOnOverlayClick,\n      closeOnOverlayClick = _ref2$closeOnOverlayC === void 0 ? true : _ref2$closeOnOverlayC,\n      _ref2$useInert = _ref2.useInert,\n      useInert = _ref2$useInert === void 0 ? true : _ref2$useInert,\n      _ref2$scrollBehavior = _ref2.scrollBehavior,\n      scrollBehavior = _ref2$scrollBehavior === void 0 ? \"outside\" : _ref2$scrollBehavior,\n      isCentered = _ref2.isCentered,\n      _ref2$addAriaLabels = _ref2.addAriaLabels,\n      addAriaLabels = _ref2$addAriaLabels === void 0 ? true : _ref2$addAriaLabels,\n      preserveScrollBarGap = _ref2.preserveScrollBarGap,\n      _ref2$formatIds = _ref2.formatIds,\n      formatIds = _ref2$formatIds === void 0 ? function (id) {\n    return {\n      content: \"modal-\" + id,\n      header: \"modal-\" + id + \"-header\",\n      body: \"modal-\" + id + \"-body\"\n    };\n  } : _ref2$formatIds,\n      container = _ref2.container,\n      _ref2$returnFocusOnCl = _ref2.returnFocusOnClose,\n      returnFocusOnClose = _ref2$returnFocusOnCl === void 0 ? true : _ref2$returnFocusOnCl,\n      children = _ref2.children,\n      id = _ref2.id,\n      _ref2$size = _ref2.size,\n      size = _ref2$size === void 0 ? \"md\" : _ref2$size;\n  var contentRef = useRef(null);\n  var uuid = useId();\n\n  var _id = id || uuid;\n\n  var contentId = formatIds(_id)[\"content\"];\n  var headerId = formatIds(_id)[\"header\"];\n  var bodyId = formatIds(_id)[\"body\"];\n  var portalId = \"chakra-portal-\" + _id;\n  var addAriaLabelledby = false;\n  var addAriaDescribedby = false;\n\n  if (typeof addAriaLabels === \"object\") {\n    addAriaLabelledby = addAriaLabels[\"header\"];\n    addAriaDescribedby = addAriaLabels[\"body\"];\n  }\n\n  if (typeof addAriaLabels === \"boolean\") {\n    addAriaLabelledby = addAriaLabels;\n    addAriaDescribedby = addAriaLabels;\n  }\n\n  useEffect(function () {\n    var dialogNode = contentRef.current;\n\n    if (isOpen && blockScrollOnMount) {\n      disableBodyScroll(dialogNode, {\n        reserveScrollBarGap: preserveScrollBarGap\n      });\n    }\n\n    return function () {\n      return enableBodyScroll(dialogNode);\n    };\n  }, [isOpen, blockScrollOnMount, preserveScrollBarGap]);\n  useEffect(function () {\n    var func = function func(event) {\n      if (event.key === \"Escape\" && closeOnEsc) {\n        onClose(event, \"pressedEscape\");\n      }\n    };\n\n    if (isOpen && !closeOnOverlayClick) {\n      canUseDOM && document.addEventListener(\"keydown\", func);\n    }\n\n    return function () {\n      canUseDOM && document.removeEventListener(\"keydown\", func);\n    };\n  }, [isOpen, onClose, closeOnOverlayClick, closeOnEsc]);\n  var mountRef = useAriaHider({\n    isOpen: isOpen,\n    id: portalId,\n    enableInert: useInert,\n    container: container\n  });\n  var context = {\n    isOpen: isOpen,\n    initialFocusRef: initialFocusRef,\n    onClose: onClose,\n    blockScrollOnMount: blockScrollOnMount,\n    closeOnEsc: closeOnEsc,\n    closeOnOverlayClick: closeOnOverlayClick,\n    returnFocusOnClose: returnFocusOnClose,\n    contentRef: contentRef,\n    scrollBehavior: scrollBehavior,\n    isCentered: isCentered,\n    headerId: headerId,\n    bodyId: bodyId,\n    contentId: contentId,\n    size: size,\n    addAriaLabelledby: addAriaLabelledby,\n    addAriaDescribedby: addAriaDescribedby\n  };\n  var activateFocusLock = useCallback(function () {\n    if (initialFocusRef && initialFocusRef.current) {\n      initialFocusRef.current.focus();\n    } else {\n      if (contentRef.current) {\n        var focusables = getFocusables(contentRef.current);\n\n        if (focusables.length === 0) {\n          contentRef.current.focus();\n        }\n      }\n    }\n  }, [initialFocusRef]);\n  var deactivateFocusLock = useCallback(function () {\n    if (finalFocusRef && finalFocusRef.current) {\n      finalFocusRef.current.focus();\n    }\n  }, [finalFocusRef]);\n  if (!isOpen) return null;\n  return React.createElement(ModalContext.Provider, {\n    value: context\n  }, React.createElement(Portal, {\n    container: mountRef.current\n  }, React.createElement(FocusLock, {\n    returnFocus: returnFocusOnClose && !finalFocusRef,\n    onActivation: activateFocusLock,\n    onDeactivation: deactivateFocusLock\n  }, children)));\n}; ////////////////////////////////////////////////////////////////////////\n\n\nvar ModalOverlay = React.forwardRef(function (props, ref) {\n  return React.createElement(Box, _extends({\n    pos: \"fixed\",\n    bg: \"rgba(0,0,0,0.4)\",\n    left: \"0\",\n    top: \"0\",\n    w: \"100vw\",\n    h: \"100vh\",\n    ref: ref,\n    zIndex: \"overlay\",\n    onClick: wrapEvent(props.onClick, function (event) {\n      event.stopPropagation();\n    })\n  }, props));\n});\nModalOverlay.displayName = \"ModalOverlay\"; ////////////////////////////////////////////////////////////////////////\n\nvar ModalContent = React.forwardRef(function (_ref3, ref) {\n  var onClick = _ref3.onClick,\n      children = _ref3.children,\n      _ref3$zIndex = _ref3.zIndex,\n      zIndex = _ref3$zIndex === void 0 ? \"modal\" : _ref3$zIndex,\n      noStyles = _ref3.noStyles,\n      props = _objectWithoutPropertiesLoose(_ref3, [\"onClick\", \"children\", \"zIndex\", \"noStyles\"]);\n\n  var _useModalContext = useModalContext(),\n      contentRef = _useModalContext.contentRef,\n      onClose = _useModalContext.onClose,\n      isCentered = _useModalContext.isCentered,\n      bodyId = _useModalContext.bodyId,\n      headerId = _useModalContext.headerId,\n      contentId = _useModalContext.contentId,\n      size = _useModalContext.size,\n      closeOnEsc = _useModalContext.closeOnEsc,\n      addAriaLabelledby = _useModalContext.addAriaLabelledby,\n      addAriaDescribedby = _useModalContext.addAriaDescribedby,\n      scrollBehavior = _useModalContext.scrollBehavior,\n      closeOnOverlayClick = _useModalContext.closeOnOverlayClick;\n\n  var _contentRef = useForkRef(ref, contentRef);\n\n  var _useColorMode = useColorMode(),\n      colorMode = _useColorMode.colorMode;\n\n  var colorModeStyles = {\n    light: {\n      bg: \"white\",\n      shadow: \"0 7px 14px 0 rgba(0,0,0, 0.1), 0 3px 6px 0 rgba(0, 0, 0, .07)\"\n    },\n    dark: {\n      bg: \"gray.700\",\n      shadow: \"rgba(0, 0, 0, 0.1) 0px 0px 0px 1px, rgba(0, 0, 0, 0.2) 0px 5px 10px, rgba(0, 0, 0, 0.4) 0px 15px 40px\"\n    }\n  };\n  var boxStyleProps = colorModeStyles[colorMode];\n  var wrapperStyle = {};\n  var contentStyle = {};\n\n  if (isCentered) {\n    wrapperStyle = {\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    };\n  } else {\n    contentStyle = {\n      top: \"3.75rem\",\n      mx: \"auto\"\n    };\n  }\n\n  if (scrollBehavior === \"inside\") {\n    wrapperStyle = _objectSpread({}, wrapperStyle, {\n      maxHeight: \"calc(100vh - 7.5rem)\",\n      overflow: \"hidden\",\n      top: \"3.75rem\"\n    });\n    contentStyle = _objectSpread({}, contentStyle, {\n      height: \"100%\",\n      top: 0\n    });\n  }\n\n  if (scrollBehavior === \"outside\") {\n    wrapperStyle = _objectSpread({}, wrapperStyle, {\n      overflowY: \"auto\",\n      overflowX: \"hidden\"\n    });\n    contentStyle = _objectSpread({}, contentStyle, {\n      my: \"3.75rem\",\n      top: 0\n    });\n  }\n\n  if (noStyles) {\n    wrapperStyle = {};\n    contentStyle = {};\n  }\n\n  return React.createElement(Box, _extends({\n    pos: \"fixed\",\n    left: \"0\",\n    top: \"0\",\n    w: \"100%\",\n    h: \"100%\",\n    zIndex: zIndex,\n    onClick: function onClick(event) {\n      event.stopPropagation();\n\n      if (closeOnOverlayClick) {\n        onClose(event, \"clickedOverlay\");\n      }\n    },\n    onKeyDown: function onKeyDown(event) {\n      if (event.key === \"Escape\") {\n        event.stopPropagation();\n\n        if (closeOnEsc) {\n          onClose(event, \"pressedEscape\");\n        }\n      }\n    }\n  }, wrapperStyle), React.createElement(Box, _extends({\n    ref: _contentRef,\n    as: \"section\",\n    role: \"dialog\",\n    \"aria-modal\": \"true\",\n    tabIndex: -1,\n    outline: 0,\n    maxWidth: size,\n    w: \"100%\",\n    id: contentId\n  }, addAriaDescribedby && {\n    \"aria-describedby\": bodyId\n  }, addAriaLabelledby && {\n    \"aria-labelledby\": headerId\n  }, {\n    pos: \"relative\",\n    d: \"flex\",\n    flexDir: \"column\",\n    zIndex: zIndex,\n    onClick: wrapEvent(onClick, function (event) {\n      return event.stopPropagation();\n    })\n  }, boxStyleProps, contentStyle, props), children));\n});\nModalContent.displayName = \"ModalContent\"; ////////////////////////////////////////////////////////////////////////\n\nvar ModalHeader = forwardRef(function (props, ref) {\n  var _useModalContext2 = useModalContext(),\n      headerId = _useModalContext2.headerId;\n\n  return React.createElement(Box, _extends({\n    ref: ref,\n    px: 6,\n    py: 4,\n    id: headerId,\n    as: \"header\",\n    position: \"relative\",\n    fontSize: \"xl\",\n    fontWeight: \"semibold\"\n  }, props));\n});\nModalHeader.displayName = \"ModalHeader\"; ////////////////////////////////////////////////////////////////////////\n\nvar ModalFooter = forwardRef(function (props, ref) {\n  return React.createElement(Box, _extends({\n    display: \"flex\",\n    justifyContent: \"flex-end\",\n    ref: ref,\n    px: 6,\n    py: 4,\n    as: \"footer\"\n  }, props));\n});\nModalFooter.displayName = \"ModalFooter\"; ////////////////////////////////////////////////////////////////////////\n\nvar ModalBody = forwardRef(function (props, ref) {\n  var _useModalContext3 = useModalContext(),\n      bodyId = _useModalContext3.bodyId,\n      scrollBehavior = _useModalContext3.scrollBehavior;\n\n  var style = {};\n\n  if (scrollBehavior === \"inside\") {\n    style = {\n      overflowY: \"auto\"\n    };\n  }\n\n  return React.createElement(Box, _extends({\n    ref: ref,\n    id: bodyId,\n    px: 6,\n    py: 2,\n    flex: \"1\"\n  }, style, props));\n});\nModalBody.displayName = \"ModalBody\"; ////////////////////////////////////////////////////////////////////////\n\nvar ModalCloseButton = forwardRef(function (props, ref) {\n  var _useModalContext4 = useModalContext(),\n      onClose = _useModalContext4.onClose;\n\n  return React.createElement(CloseButton, _extends({\n    ref: ref,\n    onClick: onClose,\n    position: \"absolute\",\n    top: \"8px\",\n    right: \"12px\"\n  }, props));\n});\nModalCloseButton.displayName = \"ModalCloseButton\"; ////////////////////////////////////////////////////////////////////////\n\nexport { Modal, ModalOverlay, ModalContent, ModalHeader, ModalFooter, ModalBody, ModalCloseButton };"]},"metadata":{},"sourceType":"module"}