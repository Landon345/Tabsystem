{"ast":null,"code":"var _jsxFileName = \"/Users/landonschlangen/Documents/WebDevelopmentFolder/ReactApps/tabsystem/src/ProtectedAdminComponents/TabDetail/TabCard.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport Item from \"./Item\";\nimport CreateItem from \"./CreateItem\";\nimport { Box } from \"@chakra-ui/core\";\nimport { MyTable, MyTh } from \"./Styles\";\nimport { DeleteButton } from \"../../GlobalStyles/Styles\";\nimport { DeleteItemWithRefund, DeleteItemWithoutRefund } from \"../../Api/Items\";\nexport default function TabCard({\n  id,\n  name,\n  balance,\n  user_name,\n  items,\n  site_number,\n  categories,\n  common_items,\n  newItem,\n  queryCache\n}) {\n  const [allSelected, setAllSelected] = useState([]);\n  const [rerender, setRerender] = useState(false); // used to set all the selected items back to false in Item.jsx when the items are deleted.\n\n  useEffect(() => {\n    setRerender(false);\n  }, [rerender]);\n  /** The magical function that keeps tract of all the selected items as an array */\n\n  const handleClick = (newId, selected) => {\n    console.log(allSelected);\n    console.log(selected);\n\n    if (!selected) {\n      setAllSelected([...allSelected, newId]);\n    } else {\n      const ids = allSelected.filter(id => id != newId);\n      setAllSelected(ids);\n    }\n  };\n  /** Deletes all of the selected items one at a time. Then, retetches the data. */\n\n\n  const removeItem = async () => {\n    setRerender(true);\n\n    for (let i = 0; i < allSelected.length; i++) {\n      const data = await DeleteItemWithoutRefund(allSelected[i]);\n      console.log(data);\n    } //const data = await DeleteItemWithoutRefund(id);\n\n\n    queryCache.refetchQueries(\"GetTabById\");\n    queryCache.refetchQueries(\"GetUserOfTab\");\n    setAllSelected([]);\n  };\n  /** Deletes all of the selected items one at a time with a refund. Then, retetches the data. */\n\n\n  const removeItemWithRefund = async () => {\n    setRerender(true);\n\n    for (let i = 0; i < allSelected.length; i++) {\n      const data = await DeleteItemWithRefund(allSelected[i]);\n      console.log(data);\n    } //const data = await DeleteItemWithoutRefund(id);\n\n\n    queryCache.refetchQueries(\"GetTabById\");\n    queryCache.refetchQueries(\"GetUserOfTab\");\n    setAllSelected([]);\n  }; //returns this chunk of jsx\n\n\n  return /*#__PURE__*/React.createElement(Box, {\n    textAlign: \"center\",\n    color: \"white\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"space-around\",\n    minH: \"200px\",\n    bg: \"first100\",\n    border: \"none\",\n    rounded: \"10px\",\n    mx: \"5%\",\n    my: \"30px\",\n    fontSize: \"30px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }, name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 9\n    }\n  }, \"# \", site_number), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, user_name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, \"$\", balance)), /*#__PURE__*/React.createElement(Box, {\n    fontSize: \"30px\",\n    mb: \"30px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 7\n    }\n  }, \"Tab Items:\"), /*#__PURE__*/React.createElement(Box, {\n    d: \"flex\",\n    pb: \"10px\",\n    justifyContent: \"space-around\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DeleteButton, {\n    onClick: removeItemWithRefund,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }, \"del w/refund\"), /*#__PURE__*/React.createElement(DeleteButton, {\n    onClick: removeItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }\n  }, \"del\")), /*#__PURE__*/React.createElement(Box, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(MyTable, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(MyTh, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 15\n    }\n  }, \"Date\"), /*#__PURE__*/React.createElement(MyTh, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 15\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(MyTh, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(MyTh, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, \"Price\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 11\n    }\n  }, items.map((item, index) => /*#__PURE__*/React.createElement(Item, {\n    key: index,\n    id: item.id,\n    name: item.name,\n    price: item.price,\n    date: item.created_at,\n    category: item.category,\n    queryCache: queryCache,\n    handleClick: handleClick,\n    rerender: rerender,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 15\n    }\n  }))))), /*#__PURE__*/React.createElement(Box, {\n    pb: \"30px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(CreateItem, {\n    tab_id: id,\n    categories: categories,\n    common_items: common_items,\n    newItem: newItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 9\n    }\n  })));\n}","map":{"version":3,"sources":["/Users/landonschlangen/Documents/WebDevelopmentFolder/ReactApps/tabsystem/src/ProtectedAdminComponents/TabDetail/TabCard.jsx"],"names":["React","useState","useEffect","Item","CreateItem","Box","MyTable","MyTh","DeleteButton","DeleteItemWithRefund","DeleteItemWithoutRefund","TabCard","id","name","balance","user_name","items","site_number","categories","common_items","newItem","queryCache","allSelected","setAllSelected","rerender","setRerender","handleClick","newId","selected","console","log","ids","filter","removeItem","i","length","data","refetchQueries","removeItemWithRefund","map","item","index","price","created_at","category"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Item from \"./Item\";\nimport CreateItem from \"./CreateItem\";\nimport { Box } from \"@chakra-ui/core\";\nimport { MyTable, MyTh } from \"./Styles\";\nimport { DeleteButton } from \"../../GlobalStyles/Styles\";\nimport { DeleteItemWithRefund, DeleteItemWithoutRefund } from \"../../Api/Items\";\n\nexport default function TabCard({\n  id,\n  name,\n  balance,\n  user_name,\n  items,\n  site_number,\n  categories,\n  common_items,\n  newItem,\n  queryCache,\n}) {\n  const [allSelected, setAllSelected] = useState([]);\n  const [rerender, setRerender] = useState(false);\n\n  // used to set all the selected items back to false in Item.jsx when the items are deleted.\n  useEffect(() => {\n    setRerender(false);\n  }, [rerender]);\n\n  /** The magical function that keeps tract of all the selected items as an array */\n  const handleClick = (newId, selected) => {\n    console.log(allSelected);\n    console.log(selected);\n    if (!selected) {\n      setAllSelected([...allSelected, newId]);\n    } else {\n      const ids = allSelected.filter((id) => id != newId);\n      setAllSelected(ids);\n    }\n  };\n  /** Deletes all of the selected items one at a time. Then, retetches the data. */\n  const removeItem = async () => {\n    setRerender(true);\n    for (let i = 0; i < allSelected.length; i++) {\n      const data = await DeleteItemWithoutRefund(allSelected[i]);\n      console.log(data);\n    }\n    //const data = await DeleteItemWithoutRefund(id);\n    queryCache.refetchQueries(\"GetTabById\");\n    queryCache.refetchQueries(\"GetUserOfTab\");\n    setAllSelected([]);\n  };\n  /** Deletes all of the selected items one at a time with a refund. Then, retetches the data. */\n  const removeItemWithRefund = async () => {\n    setRerender(true);\n    for (let i = 0; i < allSelected.length; i++) {\n      const data = await DeleteItemWithRefund(allSelected[i]);\n      console.log(data);\n    }\n    //const data = await DeleteItemWithoutRefund(id);\n    queryCache.refetchQueries(\"GetTabById\");\n    queryCache.refetchQueries(\"GetUserOfTab\");\n    setAllSelected([]);\n  };\n\n  //returns this chunk of jsx\n  return (\n    <Box textAlign=\"center\" color=\"white\">\n      <Box\n        display=\"flex\"\n        flexDirection=\"column\"\n        justifyContent=\"space-around\"\n        minH=\"200px\"\n        bg=\"first100\"\n        border=\"none\"\n        rounded=\"10px\"\n        mx=\"5%\"\n        my=\"30px\"\n        fontSize=\"30px\"\n      >\n        <p>{name}</p>\n        <p># {site_number}</p>\n        <p>{user_name}</p>\n        <p>${balance}</p>\n      </Box>\n      <Box fontSize=\"30px\" mb=\"30px\">\n        Tab Items:\n      </Box>\n      <Box d=\"flex\" pb=\"10px\" justifyContent=\"space-around\">\n        <DeleteButton onClick={removeItemWithRefund}>del w/refund</DeleteButton>\n        <DeleteButton onClick={removeItem}>del</DeleteButton>\n      </Box>\n      <Box>\n        <MyTable>\n          <thead>\n            <tr>\n              <MyTh>Date</MyTh>\n              <MyTh>Name</MyTh>\n              <MyTh>Category</MyTh>\n              <MyTh>Price</MyTh>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, index) => (\n              <Item\n                key={index}\n                id={item.id}\n                name={item.name}\n                price={item.price}\n                date={item.created_at}\n                category={item.category}\n                queryCache={queryCache}\n                handleClick={handleClick}\n                rerender={rerender}\n              />\n            ))}\n          </tbody>\n        </MyTable>\n      </Box>\n      <Box pb=\"30px\">\n        <CreateItem\n          tab_id={id}\n          categories={categories}\n          common_items={common_items}\n          newItem={newItem}\n        />\n      </Box>\n    </Box>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}