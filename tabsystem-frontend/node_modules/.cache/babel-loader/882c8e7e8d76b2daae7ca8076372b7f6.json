{"ast":null,"code":"var _jsxFileName = \"/Users/landonschlangen/Documents/WebDevelopmentFolder/ReactApps/tabsystem/src/ProtectedAdminComponents/Tabs/CreateItem.jsx\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Box } from \"@chakra-ui/core\";\nexport default function CreateItem({\n  tab_id,\n  categories\n}) {\n  const [name, setName] = useState(\"\");\n  const [categoryid, setCategoryid] = useState([]);\n  const [price, setPrice] = useState([]);\n  const [message, setMessage] = useState([]);\n\n  const handleChange = event => {\n    if ([event.target.name] == \"name\") {\n      setName(event.target.value);\n    } else if ([event.target.name] == \"price\") {\n      setPrice(event.target.value);\n    } else if ([event.target.name] == \"category\") {\n      setCategoryid(event.target.value);\n    }\n  };\n\n  const newItem = async e => {\n    e.preventDefault();\n    const item = {\n      tab_id: tab_id,\n      category_id: categoryid,\n      name: name,\n      price: parseInt(price)\n    };\n    console.log(item);\n    const response = await fetch(`http://tabsystem.test/api/item`, {\n      method: \"POST\",\n      mode: \"cors\",\n      // no-cors, *cors, same-origin\n      cache: \"no-cache\",\n      // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"omit\",\n      // include, *same-origin, omit\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"content-type\": \"application/json\"\n      },\n      redirect: \"follow\",\n      // manual, *follow, error\n      referrerPolicy: \"no-referrer\",\n      // no-referrer, *client\n      body: JSON.stringify(item)\n    });\n    const data = await response.json();\n    console.log(data);\n\n    if (data.success) {\n      setMessage(\"Successfully created item\");\n      window.location.reload();\n    } else {\n      setMessage(\"Something went wrong\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, \"Put a new item\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: newItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, \"Item Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: handleChange,\n    value: name,\n    name: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 11\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    onChange: handleChange,\n    value: price,\n    name: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"category\",\n    id: \"category\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, categories.map(category => /*#__PURE__*/React.createElement(\"option\", {\n    key: category.id,\n    value: category.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 15\n    }\n  }, category.name))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 11\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(Link, {\n    to: `/createcategory`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, \"create category\")), message);\n}","map":{"version":3,"sources":["/Users/landonschlangen/Documents/WebDevelopmentFolder/ReactApps/tabsystem/src/ProtectedAdminComponents/Tabs/CreateItem.jsx"],"names":["React","useState","Link","Box","CreateItem","tab_id","categories","name","setName","categoryid","setCategoryid","price","setPrice","message","setMessage","handleChange","event","target","value","newItem","e","preventDefault","item","category_id","parseInt","console","log","response","fetch","method","mode","cache","credentials","headers","Authorization","localStorage","getItem","redirect","referrerPolicy","body","JSON","stringify","data","json","success","window","location","reload","map","category","id"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Box } from \"@chakra-ui/core\";\n\nexport default function CreateItem({ tab_id, categories }) {\n  const [name, setName] = useState(\"\");\n  const [categoryid, setCategoryid] = useState([]);\n  const [price, setPrice] = useState([]);\n  const [message, setMessage] = useState([]);\n\n  const handleChange = (event) => {\n    if ([event.target.name] == \"name\") {\n      setName(event.target.value);\n    } else if ([event.target.name] == \"price\") {\n      setPrice(event.target.value);\n    } else if ([event.target.name] == \"category\") {\n      setCategoryid(event.target.value);\n    }\n  };\n\n  const newItem = async (e) => {\n    e.preventDefault();\n    const item = {\n      tab_id: tab_id,\n      category_id: categoryid,\n      name: name,\n      price: parseInt(price),\n    };\n    console.log(item);\n    const response = await fetch(`http://tabsystem.test/api/item`, {\n      method: \"POST\",\n      mode: \"cors\", // no-cors, *cors, same-origin\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"omit\", // include, *same-origin, omit\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"content-type\": \"application/json\",\n      },\n      redirect: \"follow\", // manual, *follow, error\n      referrerPolicy: \"no-referrer\", // no-referrer, *client\n      body: JSON.stringify(item),\n    });\n    const data = await response.json();\n    console.log(data);\n    if (data.success) {\n      setMessage(\"Successfully created item\");\n      window.location.reload();\n    } else {\n      setMessage(\"Something went wrong\");\n    }\n  };\n  return (\n    <div>\n      <h3>Put a new item</h3>\n      <div>\n        <form onSubmit={newItem}>\n          <label>Item Name</label>\n          <input type=\"text\" onChange={handleChange} value={name} name=\"name\" />\n          <label>Price</label>\n          <input\n            type=\"number\"\n            onChange={handleChange}\n            value={price}\n            name=\"price\"\n          />\n          <label htmlFor=\"category\">Category</label>\n          <select name=\"category\" id=\"category\" onChange={handleChange}>\n            {categories.map((category) => (\n              <option key={category.id} value={category.id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n          <button type=\"submit\">Submit</button>\n        </form>\n        <Link to={`/createcategory`}>create category</Link>\n      </div>\n      {message}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}