{"ast":null,"code":"var _jsxFileName = \"/Users/landonschlangen/Documents/WebDevelopmentFolder/ReactApps/tabsystem/src/ProtectedAdminComponents/TabDetail/CreateItem.jsx\";\nimport React, { useState } from \"react\";\nimport { PostItem } from \"../../Api/Items\";\nimport { Link } from \"react-router-dom\";\nimport { Box } from \"@chakra-ui/core\";\nexport default function CreateItem({\n  tab_id,\n  categories,\n  common_items,\n  newItem\n}) {\n  const [name, setName] = useState(\"\");\n  const [categoryid, setCategoryid] = useState(null);\n  const [price, setPrice] = useState([]);\n  const [message, setMessage] = useState([]);\n\n  const handleChange = event => {\n    if ([event.target.name] == \"name\") {\n      setName(event.target.value);\n    } else if ([event.target.name] == \"price\") {\n      setPrice(event.target.value);\n    } else if ([event.target.name] == \"category\") {\n      console.log(event.target.value);\n\n      if (event.target.value == 0) {\n        setCategoryid(null);\n      } else {\n        setCategoryid(event.target.value);\n      }\n    } else if ([event.target.name] == \"commonitem\") {\n      console.log(event.target.value);\n      let commonitem = common_items.filter(myitem => myitem.id == event.target.value);\n\n      if (commonitem.length != 1) {\n        commonitem = [{\n          name: \"\",\n          price: 0,\n          category_id: null\n        }];\n      }\n\n      console.log(commonitem[0]);\n      setName(commonitem[0].name);\n      setPrice(commonitem[0].price);\n      setCategoryid(commonitem[0].category_id);\n    }\n  };\n\n  const makeNewItem = async e => {\n    e.preventDefault();\n    const item = {\n      tab_id: tab_id,\n      category_id: categoryid,\n      name: name,\n      price: parseFloat(price)\n    };\n    const data = await newItem(item);\n    console.log(data);\n\n    if (data.success) {\n      setMessage(\"Successfully created item\");\n    } else {\n      setMessage(\"Something went wrong\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, \"Put a new item\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: makeNewItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"commonitem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, \"Presets\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"commonitem\",\n    id: \"commonitem\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, \"none\"), common_items.map(commonitem => /*#__PURE__*/React.createElement(\"option\", {\n    key: commonitem.id,\n    value: commonitem.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 15\n    }\n  }, commonitem.name))), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, \"Item Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: handleChange,\n    value: name,\n    name: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 11\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    onChange: handleChange,\n    value: price,\n    name: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 11\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"category\",\n    id: \"category\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, \"none\"), categories.map(category => /*#__PURE__*/React.createElement(\"option\", {\n    key: category.id,\n    value: category.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, category.name))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 11\n    }\n  }, \"Submit\"))), message);\n}","map":{"version":3,"sources":["/Users/landonschlangen/Documents/WebDevelopmentFolder/ReactApps/tabsystem/src/ProtectedAdminComponents/TabDetail/CreateItem.jsx"],"names":["React","useState","PostItem","Link","Box","CreateItem","tab_id","categories","common_items","newItem","name","setName","categoryid","setCategoryid","price","setPrice","message","setMessage","handleChange","event","target","value","console","log","commonitem","filter","myitem","id","length","category_id","makeNewItem","e","preventDefault","item","parseFloat","data","success","map","category"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { PostItem } from \"../../Api/Items\";\nimport { Link } from \"react-router-dom\";\nimport { Box } from \"@chakra-ui/core\";\n\nexport default function CreateItem({\n  tab_id,\n  categories,\n  common_items,\n  newItem,\n}) {\n  const [name, setName] = useState(\"\");\n  const [categoryid, setCategoryid] = useState(null);\n  const [price, setPrice] = useState([]);\n  const [message, setMessage] = useState([]);\n\n  const handleChange = (event) => {\n    if ([event.target.name] == \"name\") {\n      setName(event.target.value);\n    } else if ([event.target.name] == \"price\") {\n      setPrice(event.target.value);\n    } else if ([event.target.name] == \"category\") {\n      console.log(event.target.value);\n      if (event.target.value == 0) {\n        setCategoryid(null);\n      } else {\n        setCategoryid(event.target.value);\n      }\n    } else if ([event.target.name] == \"commonitem\") {\n      console.log(event.target.value);\n      let commonitem = common_items.filter(\n        (myitem) => myitem.id == event.target.value\n      );\n      if (commonitem.length != 1) {\n        commonitem = [{ name: \"\", price: 0, category_id: null }];\n      }\n      console.log(commonitem[0]);\n      setName(commonitem[0].name);\n      setPrice(commonitem[0].price);\n      setCategoryid(commonitem[0].category_id);\n    }\n  };\n\n  const makeNewItem = async (e) => {\n    e.preventDefault();\n    const item = {\n      tab_id: tab_id,\n      category_id: categoryid,\n      name: name,\n      price: parseFloat(price),\n    };\n\n    const data = await newItem(item);\n    console.log(data);\n    if (data.success) {\n      setMessage(\"Successfully created item\");\n    } else {\n      setMessage(\"Something went wrong\");\n    }\n  };\n  return (\n    <div>\n      <h3>Put a new item</h3>\n      <div>\n        <form onSubmit={makeNewItem}>\n          <label htmlFor=\"commonitem\">Presets</label>\n          <select name=\"commonitem\" id=\"commonitem\" onChange={handleChange}>\n            <option value={null}>none</option>\n            {common_items.map((commonitem) => (\n              <option key={commonitem.id} value={commonitem.id}>\n                {commonitem.name}\n              </option>\n            ))}\n          </select>\n          <label>Item Name</label>\n          <input type=\"text\" onChange={handleChange} value={name} name=\"name\" />\n          <label>Price</label>\n          <input\n            type=\"number\"\n            onChange={handleChange}\n            value={price}\n            name=\"price\"\n          />\n          <label htmlFor=\"category\">Category</label>\n          <select name=\"category\" id=\"category\" onChange={handleChange}>\n            <option value={0}>none</option>\n            {categories.map((category) => (\n              <option key={category.id} value={category.id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n          <button type=\"submit\">Submit</button>\n        </form>\n      </div>\n      {message}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}