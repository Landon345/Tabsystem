{"ast":null,"code":"var _jsxFileName = \"/Users/landonschlangen/Documents/WebDevelopmentFolder/ReactApps/tabsystem/src/ProtectedAdminComponents/Tabs/CreateItem.jsx\";\nimport React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Box } from \"@chakra-ui/core\";\nexport default function CreateItem({\n  tab_id,\n  categories,\n  common_items\n}) {\n  const [name, setName] = useState(\"\");\n  const [categoryid, setCategoryid] = useState(categories[0].id);\n  const [price, setPrice] = useState([]);\n  const [message, setMessage] = useState([]);\n\n  const handleChange = event => {\n    if ([event.target.name] == \"name\") {\n      setName(event.target.value);\n    } else if ([event.target.name] == \"price\") {\n      setPrice(event.target.value);\n    } else if ([event.target.name] == \"category\") {\n      setCategoryid(event.target.value);\n    } else if ([event.target.name] == \"commonitem\") {\n      console.log(event.target.value);\n      let commonitem = common_items.filter(myitem => myitem.id == event.target.value);\n\n      if (commonitem.length != 1) {\n        commonitem = [{\n          name: \"\",\n          price: 0,\n          category_id: categories[0].id\n        }];\n      }\n\n      setName(commonitem[0].name);\n      setPrice(commonitem[0].price);\n      setCategoryid(commonitem[0].category_id);\n    }\n  };\n\n  const newItem = async e => {\n    e.preventDefault();\n    const item = {\n      tab_id: tab_id,\n      category_id: categoryid,\n      name: name,\n      price: parseInt(price)\n    };\n    console.log(item);\n    const response = await fetch(`http://tabsystem.test/api/item`, {\n      method: \"POST\",\n      mode: \"cors\",\n      // no-cors, *cors, same-origin\n      cache: \"no-cache\",\n      // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"omit\",\n      // include, *same-origin, omit\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"content-type\": \"application/json\"\n      },\n      redirect: \"follow\",\n      // manual, *follow, error\n      referrerPolicy: \"no-referrer\",\n      // no-referrer, *client\n      body: JSON.stringify(item)\n    });\n    const data = await response.json();\n    console.log(data);\n\n    if (data.success) {\n      setMessage(\"Successfully created item\");\n      window.location.reload();\n    } else {\n      setMessage(\"Something went wrong\");\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"Put a new item\"), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: newItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"commonitem\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 11\n    }\n  }, \"Presets\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"commonitem\",\n    id: \"commonitem\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: 0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"none\"), common_items.map(commonitem => /*#__PURE__*/React.createElement(\"option\", {\n    key: commonitem.id,\n    value: commonitem.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, commonitem.name))), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 11\n    }\n  }, \"Item Name\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    onChange: handleChange,\n    value: name,\n    name: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Price\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    onChange: handleChange,\n    value: price,\n    name: \"price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 11\n    }\n  }, \"Category\"), /*#__PURE__*/React.createElement(\"select\", {\n    name: \"category\",\n    id: \"category\",\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, categories.map(category => /*#__PURE__*/React.createElement(\"option\", {\n    key: category.id,\n    value: category.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 15\n    }\n  }, category.name))), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 11\n    }\n  }, \"Submit\")), /*#__PURE__*/React.createElement(Link, {\n    to: `/createcategory`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, \"create category\")), message);\n}","map":{"version":3,"sources":["/Users/landonschlangen/Documents/WebDevelopmentFolder/ReactApps/tabsystem/src/ProtectedAdminComponents/Tabs/CreateItem.jsx"],"names":["React","useState","Link","Box","CreateItem","tab_id","categories","common_items","name","setName","categoryid","setCategoryid","id","price","setPrice","message","setMessage","handleChange","event","target","value","console","log","commonitem","filter","myitem","length","category_id","newItem","e","preventDefault","item","parseInt","response","fetch","method","mode","cache","credentials","headers","Authorization","localStorage","getItem","redirect","referrerPolicy","body","JSON","stringify","data","json","success","window","location","reload","map","category"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Box } from \"@chakra-ui/core\";\n\nexport default function CreateItem({ tab_id, categories, common_items }) {\n  const [name, setName] = useState(\"\");\n  const [categoryid, setCategoryid] = useState(categories[0].id);\n  const [price, setPrice] = useState([]);\n  const [message, setMessage] = useState([]);\n\n  const handleChange = (event) => {\n    if ([event.target.name] == \"name\") {\n      setName(event.target.value);\n    } else if ([event.target.name] == \"price\") {\n      setPrice(event.target.value);\n    } else if ([event.target.name] == \"category\") {\n      setCategoryid(event.target.value);\n    } else if ([event.target.name] == \"commonitem\") {\n      console.log(event.target.value);\n      let commonitem = common_items.filter(\n        (myitem) => myitem.id == event.target.value\n      );\n      if (commonitem.length != 1) {\n        commonitem = [{ name: \"\", price: 0, category_id: categories[0].id }];\n      }\n\n      setName(commonitem[0].name);\n      setPrice(commonitem[0].price);\n      setCategoryid(commonitem[0].category_id);\n    }\n  };\n\n  const newItem = async (e) => {\n    e.preventDefault();\n    const item = {\n      tab_id: tab_id,\n      category_id: categoryid,\n      name: name,\n      price: parseInt(price),\n    };\n    console.log(item);\n    const response = await fetch(`http://tabsystem.test/api/item`, {\n      method: \"POST\",\n      mode: \"cors\", // no-cors, *cors, same-origin\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      credentials: \"omit\", // include, *same-origin, omit\n      headers: {\n        Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n        \"content-type\": \"application/json\",\n      },\n      redirect: \"follow\", // manual, *follow, error\n      referrerPolicy: \"no-referrer\", // no-referrer, *client\n      body: JSON.stringify(item),\n    });\n    const data = await response.json();\n    console.log(data);\n    if (data.success) {\n      setMessage(\"Successfully created item\");\n      window.location.reload();\n    } else {\n      setMessage(\"Something went wrong\");\n    }\n  };\n  return (\n    <div>\n      <h3>Put a new item</h3>\n      <div>\n        <form onSubmit={newItem}>\n          <label htmlFor=\"commonitem\">Presets</label>\n          <select name=\"commonitem\" id=\"commonitem\" onChange={handleChange}>\n            <option value={0}>none</option>\n            {common_items.map((commonitem) => (\n              <option key={commonitem.id} value={commonitem.id}>\n                {commonitem.name}\n              </option>\n            ))}\n          </select>\n          <label>Item Name</label>\n          <input type=\"text\" onChange={handleChange} value={name} name=\"name\" />\n          <label>Price</label>\n          <input\n            type=\"number\"\n            onChange={handleChange}\n            value={price}\n            name=\"price\"\n          />\n          <label htmlFor=\"category\">Category</label>\n          <select name=\"category\" id=\"category\" onChange={handleChange}>\n            {categories.map((category) => (\n              <option key={category.id} value={category.id}>\n                {category.name}\n              </option>\n            ))}\n          </select>\n          <button type=\"submit\">Submit</button>\n        </form>\n        <Link to={`/createcategory`}>create category</Link>\n      </div>\n      {message}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}