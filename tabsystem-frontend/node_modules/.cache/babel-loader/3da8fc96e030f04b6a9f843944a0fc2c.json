{"ast":null,"code":"class Auth {\n  constructor() {\n    this.authenticated = false;\n    this.message = \"\";\n  }\n\n  async register(cb, newUser) {\n    this.authenticated = true;\n    cb();\n  }\n\n  async login(cb, user) {\n    const response = await fetch(\"http://tabsystem.test/api/login\", {\n      method: \"POST\",\n      body: JSON.stringify(user)\n    });\n    const data = await response.json();\n\n    if (data.success) {\n      localStorage.setItem(\"token\", data.data.api_token);\n      this.authenticated = true;\n    } else {\n      localStorage.removeItem(\"token\");\n      this.authenticated = false;\n    }\n\n    await cb();\n  }\n\n  async logout(cb) {\n    this.authenticated = false;\n    cb();\n  }\n\n  isAuthenticated() {\n    return this.authenticated;\n  }\n\n  getMessage() {\n    return this.message;\n  }\n\n}\n\nexport default new Auth();","map":{"version":3,"sources":["/Users/landonschlangen/Documents/WebDevelopmentFolder/ReactApps/tabsystem/src/Auth.js"],"names":["Auth","constructor","authenticated","message","register","cb","newUser","login","user","response","fetch","method","body","JSON","stringify","data","json","success","localStorage","setItem","api_token","removeItem","logout","isAuthenticated","getMessage"],"mappings":"AAAA,MAAMA,IAAN,CAAW;AACTC,EAAAA,WAAW,GAAG;AACZ,SAAKC,aAAL,GAAqB,KAArB;AACA,SAAKC,OAAL,GAAe,EAAf;AACD;;AAED,QAAMC,QAAN,CAAeC,EAAf,EAAmBC,OAAnB,EAA4B;AAC1B,SAAKJ,aAAL,GAAqB,IAArB;AACAG,IAAAA,EAAE;AACH;;AAED,QAAME,KAAN,CAAYF,EAAZ,EAAgBG,IAAhB,EAAsB;AACpB,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,iCAAD,EAAoC;AAC9DC,MAAAA,MAAM,EAAE,MADsD;AAE9DC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeN,IAAf;AAFwD,KAApC,CAA5B;AAIA,UAAMO,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAT,EAAnB;;AACA,QAAID,IAAI,CAACE,OAAT,EAAkB;AAChBC,MAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,IAAI,CAACA,IAAL,CAAUK,SAAxC;AACA,WAAKlB,aAAL,GAAqB,IAArB;AACD,KAHD,MAGO;AACLgB,MAAAA,YAAY,CAACG,UAAb,CAAwB,OAAxB;AACA,WAAKnB,aAAL,GAAqB,KAArB;AACD;;AAED,UAAMG,EAAE,EAAR;AACD;;AAED,QAAMiB,MAAN,CAAajB,EAAb,EAAiB;AACf,SAAKH,aAAL,GAAqB,KAArB;AACAG,IAAAA,EAAE;AACH;;AACDkB,EAAAA,eAAe,GAAG;AAChB,WAAO,KAAKrB,aAAZ;AACD;;AACDsB,EAAAA,UAAU,GAAG;AACX,WAAO,KAAKrB,OAAZ;AACD;;AArCQ;;AAwCX,eAAe,IAAIH,IAAJ,EAAf","sourcesContent":["class Auth {\n  constructor() {\n    this.authenticated = false;\n    this.message = \"\";\n  }\n\n  async register(cb, newUser) {\n    this.authenticated = true;\n    cb();\n  }\n\n  async login(cb, user) {\n    const response = await fetch(\"http://tabsystem.test/api/login\", {\n      method: \"POST\",\n      body: JSON.stringify(user),\n    });\n    const data = await response.json();\n    if (data.success) {\n      localStorage.setItem(\"token\", data.data.api_token);\n      this.authenticated = true;\n    } else {\n      localStorage.removeItem(\"token\");\n      this.authenticated = false;\n    }\n\n    await cb();\n  }\n\n  async logout(cb) {\n    this.authenticated = false;\n    cb();\n  }\n  isAuthenticated() {\n    return this.authenticated;\n  }\n  getMessage() {\n    return this.message;\n  }\n}\n\nexport default new Auth();\n"]},"metadata":{},"sourceType":"module"}