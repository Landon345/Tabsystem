{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nimport { canUseDOM } from \"exenv\";\nimport { useRef, useState, useEffect, useCallback } from \"react\";\nimport { calculatePrecision, preventNonNumberKey, roundToPrecision } from \"./utils\";\n\nfunction useLongPress(callback, speed) {\n  var _ref;\n\n  if (callback === void 0) {\n    callback = function callback() {};\n  }\n\n  if (speed === void 0) {\n    speed = 200;\n  }\n\n  var _useState = useState(false),\n      isPressed = _useState[0],\n      setIsPressed = _useState[1];\n\n  useEffect(function () {\n    var timerId;\n\n    if (isPressed) {\n      timerId = setTimeout(callback, speed);\n    } else {\n      clearTimeout(timerId);\n    }\n\n    return function () {\n      clearTimeout(timerId);\n    };\n  }, [isPressed, callback, speed]);\n  var start = useCallback(function () {\n    callback();\n    setIsPressed(true);\n  }, [callback]);\n  var stop = useCallback(function () {\n    setIsPressed(false);\n  }, []);\n  var clickEvent = canUseDOM && !!document.documentElement.ontouchstart ? \"onTouchStart\" : \"onMouseDown\";\n  return _ref = {}, _ref[clickEvent] = start, _ref.onMouseUp = stop, _ref.onMouseLeave = stop, _ref.onTouchEnd = stop, _ref;\n}\n\nfunction useNumberInput(_ref2) {\n  var valueProp = _ref2.value,\n      onChange = _ref2.onChange,\n      defaultValue = _ref2.defaultValue,\n      _ref2$focusInputOnCha = _ref2.focusInputOnChange,\n      focusInputOnChange = _ref2$focusInputOnCha === void 0 ? true : _ref2$focusInputOnCha,\n      _ref2$clampValueOnBlu = _ref2.clampValueOnBlur,\n      clampValueOnBlur = _ref2$clampValueOnBlu === void 0 ? true : _ref2$clampValueOnBlu,\n      _ref2$keepWithinRange = _ref2.keepWithinRange,\n      keepWithinRange = _ref2$keepWithinRange === void 0 ? true : _ref2$keepWithinRange,\n      _ref2$min = _ref2.min,\n      min = _ref2$min === void 0 ? -Infinity : _ref2$min,\n      _ref2$max = _ref2.max,\n      max = _ref2$max === void 0 ? Infinity : _ref2$max,\n      _ref2$step = _ref2.step,\n      stepProp = _ref2$step === void 0 ? 1 : _ref2$step,\n      precisionProp = _ref2.precision,\n      getAriaValueText = _ref2.getAriaValueText,\n      isReadOnly = _ref2.isReadOnly,\n      isInvalid = _ref2.isInvalid,\n      isDisabled = _ref2.isDisabled;\n\n  var _useRef = useRef(valueProp != null),\n      isControlled = _useRef.current;\n\n  var defaultPrecision = Math.max(calculatePrecision(stepProp), 0);\n  var precision = precisionProp || defaultPrecision;\n\n  var _useState2 = useState(function () {\n    if (defaultValue != null) {\n      var nextValue = defaultValue;\n\n      if (keepWithinRange) {\n        nextValue = Math.max(Math.min(nextValue, max), min);\n      }\n\n      nextValue = roundToPrecision(nextValue, precision);\n      return nextValue;\n    }\n\n    return \"\";\n  }),\n      valueState = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState(false),\n      isFocused = _useState3[0],\n      setIsFocused = _useState3[1];\n\n  var value = isControlled ? valueProp : valueState;\n  var isInteractive = !(isReadOnly || isDisabled);\n  var inputRef = useRef();\n  var prevNextValue = useRef(null);\n\n  var shouldConvertToNumber = function shouldConvertToNumber(value) {\n    var hasDot = value.indexOf(\".\") > -1;\n    var hasTrailingZero = value.substr(value.length - 1) === \"0\";\n    var hasTrailingDot = value.substr(value.length - 1) === \".\";\n    if (hasDot && hasTrailingZero) return false;\n    if (hasDot && hasTrailingDot) return false;\n    return true;\n  };\n\n  var updateValue = function updateValue(nextValue) {\n    //eslint-disable-next-line\n    if (prevNextValue.current == nextValue) return;\n    var shouldConvert = shouldConvertToNumber(nextValue);\n    var converted = shouldConvert ? +nextValue : nextValue;\n    if (!isControlled) setValue(converted);\n    if (onChange) onChange(converted);\n    prevNextValue.current = nextValue;\n  };\n\n  var handleIncrement = function handleIncrement(step) {\n    if (step === void 0) {\n      step = stepProp;\n    }\n\n    if (!isInteractive) return;\n    var nextValue = Number(value) + Number(step);\n\n    if (keepWithinRange) {\n      nextValue = Math.min(nextValue, max);\n    }\n\n    nextValue = roundToPrecision(nextValue, precision);\n    updateValue(nextValue);\n    focusInput();\n  };\n\n  var handleDecrement = function handleDecrement(step) {\n    if (step === void 0) {\n      step = stepProp;\n    }\n\n    if (!isInteractive) return;\n    var nextValue = Number(value) - Number(step);\n\n    if (keepWithinRange) {\n      nextValue = Math.max(nextValue, min);\n    }\n\n    nextValue = roundToPrecision(nextValue, precision);\n    updateValue(nextValue);\n    focusInput();\n  };\n\n  var focusInput = function focusInput() {\n    if (focusInputOnChange && inputRef.current && canUseDOM) {\n      requestAnimationFrame(function () {\n        inputRef.current.focus();\n      });\n    }\n  };\n\n  var incrementStepperProps = useLongPress(handleIncrement);\n  var decrementStepperProps = useLongPress(handleDecrement);\n\n  var handleChange = function handleChange(event) {\n    updateValue(event.target.value);\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    preventNonNumberKey(event);\n    if (!isInteractive) return;\n\n    if (event.key === \"ArrowUp\") {\n      event.preventDefault();\n      var ratio = getIncrementFactor(event);\n      handleIncrement(ratio * stepProp);\n    }\n\n    if (event.key === \"ArrowDown\") {\n      event.preventDefault();\n\n      var _ratio = getIncrementFactor(event);\n\n      handleDecrement(_ratio * stepProp);\n    }\n\n    if (event.key === \"Home\") {\n      event.preventDefault();\n\n      if (min != null) {\n        updateValue(max);\n      }\n    }\n\n    if (event.key === \"End\") {\n      event.preventDefault();\n\n      if (max != null) {\n        updateValue(min);\n      }\n    }\n  };\n\n  var getIncrementFactor = function getIncrementFactor(event) {\n    var ratio = 1;\n\n    if (event.metaKey || event.ctrlKey) {\n      ratio = 0.1;\n    }\n\n    if (event.shiftKey) {\n      ratio = 10;\n    }\n\n    return ratio;\n  };\n\n  var validateAndClamp = function validateAndClamp() {\n    var maxExists = max != null;\n    var minExists = min != null;\n\n    if (maxExists && value > max) {\n      updateValue(max);\n    }\n\n    if (minExists && value < min) {\n      updateValue(min);\n    }\n  };\n\n  var isOutOfRange = value > max || value < min;\n  var ariaValueText = getAriaValueText ? getAriaValueText(value) : null;\n  return {\n    value: value,\n    isFocused: isFocused,\n    isDisabled: isDisabled,\n    isReadOnly: isReadOnly,\n    incrementStepper: incrementStepperProps,\n    decrementStepper: decrementStepperProps,\n    incrementButton: _objectSpread({\n      onClick: function onClick() {\n        return handleIncrement();\n      },\n      \"aria-label\": \"add\"\n    }, keepWithinRange && {\n      disabled: value === max,\n      \"aria-disabled\": value === max\n    }),\n    decrementButton: _objectSpread({\n      onClick: function onClick() {\n        return handleDecrement();\n      },\n      \"aria-label\": \"subtract\"\n    }, keepWithinRange && {\n      disabled: value === min,\n      \"aria-disabled\": value === min\n    }),\n    input: _objectSpread({\n      onChange: handleChange,\n      onKeyDown: handleKeyDown,\n      ref: inputRef,\n      value: value,\n      role: \"spinbutton\",\n      type: \"text\",\n      \"aria-valuemin\": min,\n      \"aria-valuemax\": max,\n      \"aria-disabled\": isDisabled,\n      \"aria-valuenow\": value,\n      \"aria-invalid\": isInvalid || isOutOfRange\n    }, getAriaValueText && {\n      \"aria-valuetext\": ariaValueText\n    }, {\n      readOnly: isReadOnly,\n      disabled: isDisabled,\n      autoComplete: \"off\",\n      onFocus: function onFocus() {\n        setIsFocused(true);\n      },\n      onBlur: function onBlur() {\n        setIsFocused(false);\n\n        if (clampValueOnBlur) {\n          validateAndClamp();\n        }\n      }\n    }),\n    hiddenLabel: {\n      \"aria-live\": \"polite\",\n      children: getAriaValueText ? ariaValueText : value,\n      style: {\n        position: \"absolute\",\n        clip: \"rect(0px, 0px, 0px, 0px)\",\n        height: 1,\n        width: 1,\n        margin: -1,\n        whiteSpace: \"nowrap\",\n        border: 0,\n        overflow: \"hidden\",\n        padding: 0\n      }\n    }\n  };\n}\n\nexport default useNumberInput;","map":{"version":3,"sources":["/Users/landonschlangen/Documents/WebDevelopmentFolder/ReactApps/tabsystem/node_modules/@chakra-ui/core/dist/es/useNumberInput/index.js"],"names":["_defineProperty","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","canUseDOM","useRef","useState","useEffect","useCallback","calculatePrecision","preventNonNumberKey","roundToPrecision","useLongPress","callback","speed","_ref","_useState","isPressed","setIsPressed","timerId","setTimeout","clearTimeout","start","stop","clickEvent","document","documentElement","ontouchstart","onMouseUp","onMouseLeave","onTouchEnd","useNumberInput","_ref2","valueProp","value","onChange","defaultValue","_ref2$focusInputOnCha","focusInputOnChange","_ref2$clampValueOnBlu","clampValueOnBlur","_ref2$keepWithinRange","keepWithinRange","_ref2$min","min","Infinity","_ref2$max","max","_ref2$step","step","stepProp","precisionProp","precision","getAriaValueText","isReadOnly","isInvalid","isDisabled","_useRef","isControlled","current","defaultPrecision","Math","_useState2","nextValue","valueState","setValue","_useState3","isFocused","setIsFocused","isInteractive","inputRef","prevNextValue","shouldConvertToNumber","hasDot","indexOf","hasTrailingZero","substr","hasTrailingDot","updateValue","shouldConvert","converted","handleIncrement","Number","focusInput","handleDecrement","requestAnimationFrame","focus","incrementStepperProps","decrementStepperProps","handleChange","event","handleKeyDown","preventDefault","ratio","getIncrementFactor","_ratio","metaKey","ctrlKey","shiftKey","validateAndClamp","maxExists","minExists","isOutOfRange","ariaValueText","incrementStepper","decrementStepper","incrementButton","onClick","disabled","decrementButton","input","onKeyDown","ref","role","type","readOnly","autoComplete","onFocus","onBlur","hiddenLabel","children","style","position","clip","height","width","margin","whiteSpace","border","overflow","padding"],"mappings":"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","sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { canUseDOM } from \"exenv\";\nimport { useRef, useState, useEffect, useCallback } from \"react\";\nimport { calculatePrecision, preventNonNumberKey, roundToPrecision } from \"./utils\";\n\nfunction useLongPress(callback, speed) {\n  var _ref;\n\n  if (callback === void 0) {\n    callback = function callback() {};\n  }\n\n  if (speed === void 0) {\n    speed = 200;\n  }\n\n  var _useState = useState(false),\n      isPressed = _useState[0],\n      setIsPressed = _useState[1];\n\n  useEffect(function () {\n    var timerId;\n\n    if (isPressed) {\n      timerId = setTimeout(callback, speed);\n    } else {\n      clearTimeout(timerId);\n    }\n\n    return function () {\n      clearTimeout(timerId);\n    };\n  }, [isPressed, callback, speed]);\n  var start = useCallback(function () {\n    callback();\n    setIsPressed(true);\n  }, [callback]);\n  var stop = useCallback(function () {\n    setIsPressed(false);\n  }, []);\n  var clickEvent = canUseDOM && !!document.documentElement.ontouchstart ? \"onTouchStart\" : \"onMouseDown\";\n  return _ref = {}, _ref[clickEvent] = start, _ref.onMouseUp = stop, _ref.onMouseLeave = stop, _ref.onTouchEnd = stop, _ref;\n}\n\nfunction useNumberInput(_ref2) {\n  var valueProp = _ref2.value,\n      onChange = _ref2.onChange,\n      defaultValue = _ref2.defaultValue,\n      _ref2$focusInputOnCha = _ref2.focusInputOnChange,\n      focusInputOnChange = _ref2$focusInputOnCha === void 0 ? true : _ref2$focusInputOnCha,\n      _ref2$clampValueOnBlu = _ref2.clampValueOnBlur,\n      clampValueOnBlur = _ref2$clampValueOnBlu === void 0 ? true : _ref2$clampValueOnBlu,\n      _ref2$keepWithinRange = _ref2.keepWithinRange,\n      keepWithinRange = _ref2$keepWithinRange === void 0 ? true : _ref2$keepWithinRange,\n      _ref2$min = _ref2.min,\n      min = _ref2$min === void 0 ? -Infinity : _ref2$min,\n      _ref2$max = _ref2.max,\n      max = _ref2$max === void 0 ? Infinity : _ref2$max,\n      _ref2$step = _ref2.step,\n      stepProp = _ref2$step === void 0 ? 1 : _ref2$step,\n      precisionProp = _ref2.precision,\n      getAriaValueText = _ref2.getAriaValueText,\n      isReadOnly = _ref2.isReadOnly,\n      isInvalid = _ref2.isInvalid,\n      isDisabled = _ref2.isDisabled;\n\n  var _useRef = useRef(valueProp != null),\n      isControlled = _useRef.current;\n\n  var defaultPrecision = Math.max(calculatePrecision(stepProp), 0);\n  var precision = precisionProp || defaultPrecision;\n\n  var _useState2 = useState(function () {\n    if (defaultValue != null) {\n      var nextValue = defaultValue;\n\n      if (keepWithinRange) {\n        nextValue = Math.max(Math.min(nextValue, max), min);\n      }\n\n      nextValue = roundToPrecision(nextValue, precision);\n      return nextValue;\n    }\n\n    return \"\";\n  }),\n      valueState = _useState2[0],\n      setValue = _useState2[1];\n\n  var _useState3 = useState(false),\n      isFocused = _useState3[0],\n      setIsFocused = _useState3[1];\n\n  var value = isControlled ? valueProp : valueState;\n  var isInteractive = !(isReadOnly || isDisabled);\n  var inputRef = useRef();\n  var prevNextValue = useRef(null);\n\n  var shouldConvertToNumber = function shouldConvertToNumber(value) {\n    var hasDot = value.indexOf(\".\") > -1;\n    var hasTrailingZero = value.substr(value.length - 1) === \"0\";\n    var hasTrailingDot = value.substr(value.length - 1) === \".\";\n    if (hasDot && hasTrailingZero) return false;\n    if (hasDot && hasTrailingDot) return false;\n    return true;\n  };\n\n  var updateValue = function updateValue(nextValue) {\n    //eslint-disable-next-line\n    if (prevNextValue.current == nextValue) return;\n    var shouldConvert = shouldConvertToNumber(nextValue);\n    var converted = shouldConvert ? +nextValue : nextValue;\n    if (!isControlled) setValue(converted);\n    if (onChange) onChange(converted);\n    prevNextValue.current = nextValue;\n  };\n\n  var handleIncrement = function handleIncrement(step) {\n    if (step === void 0) {\n      step = stepProp;\n    }\n\n    if (!isInteractive) return;\n    var nextValue = Number(value) + Number(step);\n\n    if (keepWithinRange) {\n      nextValue = Math.min(nextValue, max);\n    }\n\n    nextValue = roundToPrecision(nextValue, precision);\n    updateValue(nextValue);\n    focusInput();\n  };\n\n  var handleDecrement = function handleDecrement(step) {\n    if (step === void 0) {\n      step = stepProp;\n    }\n\n    if (!isInteractive) return;\n    var nextValue = Number(value) - Number(step);\n\n    if (keepWithinRange) {\n      nextValue = Math.max(nextValue, min);\n    }\n\n    nextValue = roundToPrecision(nextValue, precision);\n    updateValue(nextValue);\n    focusInput();\n  };\n\n  var focusInput = function focusInput() {\n    if (focusInputOnChange && inputRef.current && canUseDOM) {\n      requestAnimationFrame(function () {\n        inputRef.current.focus();\n      });\n    }\n  };\n\n  var incrementStepperProps = useLongPress(handleIncrement);\n  var decrementStepperProps = useLongPress(handleDecrement);\n\n  var handleChange = function handleChange(event) {\n    updateValue(event.target.value);\n  };\n\n  var handleKeyDown = function handleKeyDown(event) {\n    preventNonNumberKey(event);\n    if (!isInteractive) return;\n\n    if (event.key === \"ArrowUp\") {\n      event.preventDefault();\n      var ratio = getIncrementFactor(event);\n      handleIncrement(ratio * stepProp);\n    }\n\n    if (event.key === \"ArrowDown\") {\n      event.preventDefault();\n\n      var _ratio = getIncrementFactor(event);\n\n      handleDecrement(_ratio * stepProp);\n    }\n\n    if (event.key === \"Home\") {\n      event.preventDefault();\n\n      if (min != null) {\n        updateValue(max);\n      }\n    }\n\n    if (event.key === \"End\") {\n      event.preventDefault();\n\n      if (max != null) {\n        updateValue(min);\n      }\n    }\n  };\n\n  var getIncrementFactor = function getIncrementFactor(event) {\n    var ratio = 1;\n\n    if (event.metaKey || event.ctrlKey) {\n      ratio = 0.1;\n    }\n\n    if (event.shiftKey) {\n      ratio = 10;\n    }\n\n    return ratio;\n  };\n\n  var validateAndClamp = function validateAndClamp() {\n    var maxExists = max != null;\n    var minExists = min != null;\n\n    if (maxExists && value > max) {\n      updateValue(max);\n    }\n\n    if (minExists && value < min) {\n      updateValue(min);\n    }\n  };\n\n  var isOutOfRange = value > max || value < min;\n  var ariaValueText = getAriaValueText ? getAriaValueText(value) : null;\n  return {\n    value: value,\n    isFocused: isFocused,\n    isDisabled: isDisabled,\n    isReadOnly: isReadOnly,\n    incrementStepper: incrementStepperProps,\n    decrementStepper: decrementStepperProps,\n    incrementButton: _objectSpread({\n      onClick: function onClick() {\n        return handleIncrement();\n      },\n      \"aria-label\": \"add\"\n    }, keepWithinRange && {\n      disabled: value === max,\n      \"aria-disabled\": value === max\n    }),\n    decrementButton: _objectSpread({\n      onClick: function onClick() {\n        return handleDecrement();\n      },\n      \"aria-label\": \"subtract\"\n    }, keepWithinRange && {\n      disabled: value === min,\n      \"aria-disabled\": value === min\n    }),\n    input: _objectSpread({\n      onChange: handleChange,\n      onKeyDown: handleKeyDown,\n      ref: inputRef,\n      value: value,\n      role: \"spinbutton\",\n      type: \"text\",\n      \"aria-valuemin\": min,\n      \"aria-valuemax\": max,\n      \"aria-disabled\": isDisabled,\n      \"aria-valuenow\": value,\n      \"aria-invalid\": isInvalid || isOutOfRange\n    }, getAriaValueText && {\n      \"aria-valuetext\": ariaValueText\n    }, {\n      readOnly: isReadOnly,\n      disabled: isDisabled,\n      autoComplete: \"off\",\n      onFocus: function onFocus() {\n        setIsFocused(true);\n      },\n      onBlur: function onBlur() {\n        setIsFocused(false);\n\n        if (clampValueOnBlur) {\n          validateAndClamp();\n        }\n      }\n    }),\n    hiddenLabel: {\n      \"aria-live\": \"polite\",\n      children: getAriaValueText ? ariaValueText : value,\n      style: {\n        position: \"absolute\",\n        clip: \"rect(0px, 0px, 0px, 0px)\",\n        height: 1,\n        width: 1,\n        margin: -1,\n        whiteSpace: \"nowrap\",\n        border: 0,\n        overflow: \"hidden\",\n        padding: 0\n      }\n    }\n  };\n}\n\nexport default useNumberInput;"]},"metadata":{},"sourceType":"module"}